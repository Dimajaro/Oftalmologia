<!DOCTYPE html>
<html>
<head>
    
    
  <title>Bootstrap Example</title>
  <meta charset="UTF-8">
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css' integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
  <link rel='stylesheet' href='Vista_principal.css'>
  
  
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>
   
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://www.jqwidgets.com/public/jqwidgets/styles/jqx.base.css" type="text/css" />
    <link rel="stylesheet" href="https://www.jqwidgets.com/public/jqwidgets/styles/jqx.energyblue.css" type="text/css" />
    <script type="text/javascript" src="calendarspanish.js"></script>
    <script type="text/javascript" src="https://www.jqwidgets.com/public/jqwidgets/globalization/globalize.js"></script>
    <link rel="stylesheet" href="https://www.jqwidgets.com/public/jqwidgets/styles/jqx.arctic.css" type="text/css" />
    <script type="text/javascript" src="app.js"></script>
    <link rel="stylesheet" href="app.css" type="text/css" />


  
  
</head>

<!-- The Modal -->
<div class="modal fade" id="myModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">

      <!-- Modal Header -->
        <div class="modal-header">
            <h4 class="modal-title">Historia clinica</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

      <!-- Modal body -->
      
    <div class="col-lg-12">
        <div class=col-lg-12"
            <label>Nombre del men</label>
        </div>
        <div class=col-lg-12"
            <label>Edad</label>
        </div>
    </div>  
        <div class="modal-body">
            <div class="col-lg-12">
                <div id="accordion_modal"  style="height: 250px; overflow-y: scroll;">
                    <div class="card col-lg-12">
                        <div class="card-header bg-info">
                            <a class="card-link" data-toggle="collapse" href="#c1" style=" color:white;">
                                Fecha atencion - accion
                            </a>
                        </div>
                        <div id="c1" class="collapse show" data-parent="#accordion_modal">
                            <div class="card-body">
                                Lorem ipsum..1
                            </div>
                        </div>
                    </div>
                    
                    <div class="card col-lg-12">
                        <div class="card-header bg-info ">
                            <a class="collapsed card-link" data-toggle="collapse" href="#c2" style="color: white;">
                                Registro Paciente
                            </a>
                        </div>
                        <div id="c2" class="collapse" data-parent="#accordion_modal">
                            <div class="card-body"> 
                                hola mundo..2
                            </div>
                        </div>
                    </div> 
                    
                    <div class="card col-lg-12">
                        <div class="card-header bg-info ">
                            <a class="collapsed card-link" data-toggle="collapse" href="#c3" style="color: white;">
                                Registro Paciente
                            </a>
                        </div>
                        <div id="c3" class="collapse" data-parent="#accordion_modal">
                            <div class="card-body"> 
                                hola mundo..3
                            </div>
                        </div>
                    </div> 
                    
                    <div class="card col-lg-12">
                        <div class="card-header bg-info ">
                            <a class="collapsed card-link" data-toggle="collapse" href="#c4" style="color: white;">
                                Registro Paciente
                            </a>
                        </div>
                        <div id="c4" class="collapse" data-parent="#accordion_modal">
                            <div class="card-body"> 
                                hola mundo..4
                            </div>
                        </div>
                    </div> 
                    
                    <div class="card col-lg-12">
                        <div class="card-header bg-info ">
                            <a class="collapsed card-link" data-toggle="collapse" href="#c5" style="color: white;">
                                Registro Paciente
                            </a>
                        </div>
                        <div id="c5" class="collapse" data-parent="#accordion_modal">
                            <div class="card-body"> 
                                hola mundo..5
                            </div>
                        </div>
                    </div> 
                    
                    <div class="card col-lg-12">
                        <div class="card-header bg-info ">
                            <a class="collapsed card-link" data-toggle="collapse" href="#c6" style="color: white;">
                                Registro Paciente
                            </a>
                        </div>
                        <div id="c6" class="collapse" data-parent="#accordion_modal">
                            <div class="card-body"> 
                                hola mundo..5
                            </div>
                        </div>
                    </div> 
                    
                    <div class="card col-lg-12">
                        <div class="card-header bg-info ">
                            <a class="collapsed card-link" data-toggle="collapse" href="#c7" style="color: white;">
                                Registro Paciente
                            </a>
                        </div>
                        <div id="c7" class="collapse" data-parent="#accordion_modal">
                            <div class="card-body"> 
                                hola mundo..5
                            </div>
                        </div>
                    </div> 
                    
                </div>
            </div>

      <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>
</div>





<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-sm-5 col-lg-4">
                <div id="accordion">
                    <div class="card">
                        <div class="card-header bg-success">
                            <a class="card-link" data-toggle="collapse" href="#collapseOne" style="color: white;">
                                Estadística
                            </a>
                        </div>
                        <div id="collapseOne" class="collapse show" data-parent="#accordion">
                            <div class="card-body">
                                registro 1      
                            </div>
                        </div>
                    </div>
                    
                    
                    <div class="card">
                        <div class="card-header bg-success ">
                            <a class="collapsed card-link" data-toggle="collapse" href="#collapseTwo" style="color: white;">
                                Registro Paciente
                            </a>
                        </div>
                        <div id="collapseTwo" class="collapse" data-parent="#accordion">
                            
                            
                            
                            <div class="card-body">  
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                        <label class="control-label" for="rut">Nacional :</label> 
                                    </div>
                                    <div class="col-7 col-sm-7  col-lg-4">
                                        <label class="switch ">
                                            <input type="checkbox" id="check1"  checked>
                                            <span class="slider round"></span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                         <label class="control-label " for="rut">RUT :</label> 
                                    </div>
                                    
                                    <div class="col-7 col-sm-7  col-lg-4">
                                        <input type="text" id="txt_rut" class="form-control"   placeholder="9999999" pattern="\d{3,8}" required > 
                                    </div>
                                    <p > - </p>
                                    <div class="col-3 col-sm-3 col-lg-3 ">
                                        <input type="text-inline" id="txt_verificador" class="form-control" placeholder="9"   onblur="validarut()" pattern="\d|kK{1}" required >  
                                     </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                         <label class="control-label " for="rut">Nombres :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <input type="text" id="txt_nombres" class="form-control"   placeholder="" pattern="\d{3,8}" required > 
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                         <label class="control-label " for="rut">Apellido P :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <input type="text" id="txt_apellidop" class="form-control"   placeholder="" pattern="\d{3,8}" required > 
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                         <label class="control-label " for="rut">Apellido M :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <input type="text" id="txt_apellidom" class="form-control"   placeholder="" pattern="\d{3,8}" required > 
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                         <label class="control-label " for="rut">Fecha Nac :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <input type="date" id="txt_fechanac" class="form-control"   placeholder="" value="" pattern="\d{3,8}" required > 
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                         <label class="control-label " for="rut">Fijo :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <input type="text" id="txt_fijo" class="form-control"   placeholder="" pattern="\d{3,8}" required > 
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                         <label class="control-label " for="rut">Movil :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <input type="text" id="txt_movil" class="form-control"   placeholder="" pattern="\d{3,8}" required > 
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-4 col-sm-4 col-lg-4">
                                        <button class="btn btn-info"> <i class="fas fa-search"></i></button>
                                    </div>
                                    
                                    <div class="col-4 col-sm-4 col-lg-4">
                                        <button class="btn btn-info" data-toggle="modal" data-target="#myModal"> <i class="fas fa-history"></i></button>
                                    </div>
                                    
                                    <div class="row col-4 col-sm-4 col-lg-4">
                                        <button type="button" title="agregar" class="btn btn-success" onclick="data_paciente()">
                                            Agregar
                                        </button>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                    
                    
                    <div class="card">
                        <div class="card-header bg-success ">
                            <a class="collapsed card-link" data-toggle="collapse" href="#collapseThree" style="color: white;" id="fichapaciente">
                                Ficha Paciente
                            </a>
                        </div>
                        <div id="collapseThree" class="collapse" data-parent="#accordion">
                            <div class="card-body">
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                         <label class="control-label " for="rut">Motivo :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <!--<input type="text" id="txt_motivo" class="form-control"   placeholder="" pattern="\d{3,8}" required >--> 
                                        <textarea id="txt_motivo" class="form-control" rows="1"  name="comment" form="usrform" onclick="this.rows = '5';" onblur="this.rows='1';"></textarea>
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                        <label class="control-label " for="rut">Antecedente :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <textarea  id="txt_antecedente" class="form-control" rows="1"  name="comment" form="usrform" onfocus="this.rows = '5';" onblur="this.rows='1';" ></textarea>
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                        <label class="control-label " for="rut">Ex. Fisico :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <textarea  id="txt_exfisico" class="form-control" rows="1"  name="comment" form="usrform" onfocus="this.rows = '5';" onblur="this.rows='1';"></textarea>
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    
                                    <div class="col-12 col-sm-12 col-lg-4">
                                        <label class="control-label " for="rut">Biomicroscopia </label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <textarea  id="txt_biomicroscopia" class="form-control" rows="1"  name="comment" form="usrform" onfocus="this.rows = '5';" onblur="this.rows='1';"></textarea>             
                                    </div>
                                </div>
                                    
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12  col-lg-4">
                                        <label class="control-label " for="rut">Oftalmoscopia </label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <textarea  id="txt_oftalmoscopia" class="form-control" rows="1"  name="comment" form="usrform" onfocus="this.rows = '5';" onblur="this.rows='1';"></textarea>
                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                        <label class="control-label" for="rut"><p>Parametros :</p></label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <button class="btn btn-info btn-md btn-block" onclick="data_ficha()"><i class='fas fa-pen'></i></button>

                                    </div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                        <label class="control-label " for="rut">Diagnostico :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <textarea  id="txt_diagnostico" class="form-control" rows="1"  name="comment" form="usrform" onfocus="this.rows = '5';" onblur="this.rows='1';"></textarea>
                                    </div>
                                </div>
                                    
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                        <label class="control-label " for="rut">Indicacion :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <textarea  id="txt_indicacion" class="form-control" rows="1"  name="comment" form="usrform" onfocus="this.rows = '5';" onblur="this.rows='1';"></textarea>
                                    </div>
                                </div>
                                            
                                <div class="row form-group">
                                    <div class="col-12 col-sm-12 col-lg-4">
                                        <label class="control-label " for="rut">Evolucion :</label> 
                                    </div>
                                    <div class="col-12 col-sm-12 col-lg-8">
                                        <textarea  id="txt_evolucion" class="form-control" rows="1"  name="comment" form="usrform" onfocus="this.rows = '5';" onblur="this.rows='1';"></textarea>
                                    </div>
                                </div>
                              
                                
                                
                            </div>
                        </div>
                    </div>
                    
                </div>
    
            </div>
            <div class="col-12 col-sm-7 col-lg-8">
                <div class="table-responsive">
  <table class="table table-sm table-dark">
<caption>List of users</caption>
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">First</th>
      <th scope="col">Last</th>
           <th scope="col">Handle</th>
                <th scope="col">Handle</th>
                     <th scope="col">Handle</th>
      
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
      <td>Mark</td>
      <td>Otto</td>
      <td>@mdo</td>
    </tr>
    <tr>
      <th scope="row">2</th>
      <td>Jacob</td>
      <td>Thornton</td>
      <td>@fat</td>
    </tr>
    <tr>
      <th scope="row">3</th>
      <td>Larry</td>
      <td>the Bird</td>
      <td>@twitter</td>
    </tr>
    <tr>
      <th scope="row">4</th>
      <td>Larry</td>
      <td>the Bird</td>
      <td>@twitter</td>
    </tr>
    <tr>
      <th scope="row">5</th>
      <td>Larry</td>
      <td>the Bird</td>
      <td>@twitter</td>
    </tr>
    <tr>
      <th scope="row">6</th>
      <td>Larry</td>
      <td>the Bird</td>
      <td>@twitter</td>
    </tr>
    <tr>
      <th scope="row">7</th>
      <td>Larry</td>
      <td>the Bird</td>
      <td>@twitter</td>
    </tr>
  </tbody>

  </table>
</div>
            </div>
            
            
            
            <div class=" col-lg-4"> 
            <div class="card">
                        <div class="card-header bg-success">
                            <a class="card-link" data-toggle="collapse"  style="color: white;">
                                Calendario
                            </a>
                        </div>
                        <div  class="collapse show" >
                            <div class="card-body">
                                
                                 
                        <center>
                            <div id="calendar" style="">
                            </div>
                            <div id="log">
                            </div>
                        </center>
               
                                
                                
                                
                            </div>
                        </div>
                    </div>
             </div>

        </div>
    </div>
    
        
        
</body>

</html>

<script type="text/javascript">

function data_paciente(){
    myObj = {
    "rut":"18661818",
    "dig_verificador":"1",
    "nombres":"Diego",
    "apellidop":"Jara",
    "apellidom":"Rodriguez",
    "fechanac":"1993-10-14",
    "fijo":"123",
    "movil":"456",
  }
  $('#txt_rut').val(myObj.rut);
  $('#txt_verificador').val(myObj.dig_verificador);
  $('#txt_nombres').val(myObj.nombres);
  $('#txt_apellidop').val(myObj.apellidop);
  $('#txt_apellidom').val(myObj.apellidom);
  $('#txt_fechanac').val(myObj.fechanac);
  $('#txt_fijo').val(myObj.fijo);
  $('#txt_movil').val(myObj.movil);
 }


 function data_ficha(){
    myObj = {
    "motivo":"es entero ciego este weon",
    "antecedente":"ya vino ayer",
    "exfisico":"esta tuerto",
    "biomicroscopia":"quiestawea",
    "oftalmoscopia":"quiestaweax2",
    "diagnostico":"que se tire al metro mejor",
    "indicacion":"despues de las 10 hay menos gente",
    "evolucion":"no hay evolucion",
    "fichapaciente":"Diego Huanaco",
  }
  $('#txt_motivo').val(myObj.motivo);
  $('#txt_antecedente').val(myObj.antecedente);
  $('#txt_exfisico').val(myObj.exfisico);
  $('#txt_biomicroscopia').val(myObj.biomicroscopia);
  $('#txt_oftalmoscopia').val(myObj.oftalmoscopia);
  $('#txt_diagnostico').val(myObj.diagnostico);
  $('#txt_indicacion').val(myObj.indicacion);
  $('#txt_evolucion').val(myObj.evolucion);
  $('#fichapaciente').text(""+$('#fichapaciente').text() +" : " + myObj.fichapaciente);
  
 }
 
$('#check1').on('click', function() {
    if($('#check1').prop('checked')){
        toastr.options.timeOut = 1500; // 1.5s
        toastr.options.positionClass='toast-top-left';
        // toatrs.options.progressBar=true;
        toastr.info("Se validará RUT");        

    }else{
        toastr.options.timeOut = 1500; // 1.5s
        toastr.options.positionClass='toast-top-left';
        // toatrs.options.progressBar=true;
        toastr.warning("No se validará RUT");
    }
    
   

});


 function validarut(){
    if($('#check1').prop('checked')){
        var rut = document.getElementById("txt_rut").value;  
        var suma=0;
        var verif = document.getElementById("txt_verificador").value;
        //var check = document.getElementById("check").value;
        //alert(rut);
    //alert(verif);
    var continuar = true;
    //alert(a);

       for(var i=2;continuar;i++){
        suma += (rut%10)*i;
        rut = parseInt((rut /10));
        //alert(i)
        //alert(rut);

        if(i==7){
            i=1;
        }    
        if(rut==0)
            continuar=false;
        else 
            continuar=true;
      }
      //alert("suma:"+suma);
    var resto = suma%11;
    //alert(resto);
    var dv = 11-resto;
    
    
    
    if(dv==10){
        if(verif.toUpperCase() == 'K'){      
            //return true;
            //alert("K");
            toastr.options.timeOut = 1500; // 1.5s
            toastr.options.positionClass='toast-top-left';
            // toatrs.options.progressBar=true;
            toastr.info("RUT CORRECTO"); 
            return true;
        }else{
            toastr.options.timeOut = 1500; // 1.5s
            toastr.options.positionClass='toast-top-left';
            // toatrs.options.progressBar=true;
            toastr.error("RUT INCORRECTO");   
            //alert("Digito verificado malo");
            return false;
        }
    }
    else if (dv == 11){
        if(verif == 0){
            //return true;
            toastr.options.timeOut = 1500; // 1.5s
            toastr.options.positionClass='toast-top-left';
            // toatrs.options.progressBar=true;
            toastr.info("RUT CORRECTO"); 
            //alert("0");
            return true;
        }else{
            toastr.options.timeOut = 1500; // 1.5s
            toastr.options.positionClass='toast-top-left';
            // toatrs.options.progressBar=true;
            toastr.error("RUT INCORRECTO");
            //alert("Digito verificador malo");
            return false;
        }         
    }else if (dv == verif){
        toastr.options.timeOut = 1500; // 1.5s
        toastr.options.positionClass='toast-top-left';
         // toatrs.options.progressBar=true;
        toastr.info("RUT CORRECTO"); 
        //alert("Digito verificador correcto");
        return true;
    }else{
        toastr.options.timeOut = 1500; // 1.5s
        toastr.options.positionClass='toast-top-left';
        // toatrs.options.progressBar=true;
        toastr.error("RUT INCORRECTO"); 
        //alert("Digito verificador incorrecto");
        return false;
    }
        
    }

    
}
</script>